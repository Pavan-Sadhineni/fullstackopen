{"version":3,"sources":["services/persons.js","components/NewPersonForm.js","components/FilterInput.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","logger","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","deletePerson","delete","NewPersonForm","addNewPerson","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","trim","name","number","value","onChange","target","type","FilterInput","setFilter","Person","person","handleDelete","onClick","Persons","persons","map","Notification","message","className","text","App","setPersons","filter","setMessage","useEffect","personService","initialPersons","catch","error","console","personsToShow","toLowerCase","includes","newPerson","find","person1","person2","window","confirm","updatedPerson","returnedPerson","p","concat","setTimeout","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.af12e6df.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons\";\r\n//const baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then(response => response.data);\r\n};\r\n\r\nconst logger = {\r\n    getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  deletePerson: deletePerson\r\n  };\r\n  export default logger;","import React, { useState } from \"react\";\r\n\r\nconst NewPersonForm = ({ addNewPerson }) => {\r\n  const [newName, setNewName] = useState(\"\");\r\n  const [newNumber, setNewNumber] = useState(\"\");\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (newName.trim() === \"\") return;\r\n    addNewPerson({ name: newName, number: newNumber });\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        name:{\" \"}\r\n        <input\r\n          value={newName}\r\n          onChange={({ target }) => setNewName(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        number:{\" \"}\r\n        <input\r\n          value={newNumber}\r\n          onChange={({ target }) => setNewNumber(target.value)}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default NewPersonForm;","import React from \"react\";\r\n\r\nconst FilterInput = ({ setFilter }) => (\r\n  \r\n  <input onChange={({ target }) => setFilter(target.value)} />\r\n);\r\n\r\nexport default FilterInput;","import React from \"react\";\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n  <div>\r\n    {person.name}: {person.number}{\" \"}\r\n    <button onClick={() => handleDelete(person.id, person.name)}>Delete</button>\r\n  </div>\r\n);\r\n\r\nexport default Person;","import React from \"react\";\r\n\r\nimport Person from \"./Person\";\r\n\r\nconst Persons = ({ persons, handleDelete }) => (\r\n  <div>\r\n    {persons.map((person) => (\r\n      <Person key={person.id} person={person} handleDelete={handleDelete} />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nexport default Persons;","import React from \"react\";\r\n\r\nconst Notification = ({ message }) => {\r\n  if (!message) {\r\n    return null;\r\n  }\r\n\r\n  return <div className={message.type}>{message.text}</div>;\r\n};\r\n\r\nexport default Notification;","import React, { useState, useEffect } from \"react\";\n\nimport personService from \"./services/persons\";\n\nimport NewPersonForm from \"./components/NewPersonForm\";\nimport FilterInput from \"./components/FilterInput\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [filter, setFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons);\n      })\n      .catch((error) => console.error(error));\n  }, []);\n\n  const addNewPerson = (newPerson) => {\n    const namesMatch = (person1, person2) =>\n      person1.toLowerCase() === person2.toLowerCase();\n\n    const person = persons.find((person) =>\n      namesMatch(person.name, newPerson.name)\n    );\n\n    if (person) {\n      if (\n        window.confirm(\n          `${newPerson.name} is already added to the phonebook, replace the old number with the new one?`\n        )\n      ) {\n        const updatedPerson = { ...person, number: newPerson.number };\n        personService\n          .update(person.id, updatedPerson)\n          .then((returnedPerson) => {\n            setPersons(\n              persons\n                .filter((p) => p.name !== updatedPerson.name)\n                .concat(returnedPerson)\n            );\n            setMessage({\n              text: `Updated ${updatedPerson.name}'s number`,\n              type: \"success\",\n            });\n            setTimeout(() => setMessage(null), 5000);\n          })\n          \n          .catch((error) => {\n            setMessage({\n              text: `Information for ${person.name} has already been removed from server`,\n              type: \"error\",\n            });\n            setPersons(persons.filter((p) => p.name !== person.name));\n            setTimeout(() => {\n              setMessage(null);\n            }, 5000);\n          });\n      }\n\n      return;\n    }\n\n    personService\n      .create(newPerson)\n      .then((returnedPerson) => {\n        setPersons([...persons, returnedPerson]);\n        setMessage({\n          text: `Added ${returnedPerson.name}`,\n          type: \"success\",\n        });\n        setTimeout(() => setMessage(null), 5000);\n      })\n      .catch((error) => {\n        setMessage({ text: error.response.data.error, type: \"error\" });\n        setTimeout(() => setMessage(null), 5000);\n        console.error(error);\n      });\n  };\n\n  const deletePerson = (id, name) => {\n    if (window.confirm(`Are you sure you want to delete ${name}?`)) {\n      personService.deletePerson(id);\n      setPersons(persons.filter((person) => person.id !== id));\n    }\n  };\n\n  const personsToShow =\n    filter === \"\"\n      ? persons\n      : persons.filter((person) =>\n          person.name.toLowerCase().includes(filter.toLowerCase())\n        );\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={message} />\n      <FilterInput setFilter={setFilter} />\n      <h2>Add new</h2>\n      <NewPersonForm addNewPerson={addNewPerson} />\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} handleDelete={deletePerson} />\n    </div>\n  );\n};\n\nexport default App;","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport \"./index.css\";\n\nReactDOM.render(<App />,\n  document.getElementById('root'))"],"sourceRoot":""}